\subsection{\ifenglish File Storage Structure\else โครงสร้างการจัดเก็บไฟล์\fi}

\ifenglish
In our system implementation, all organizations share a single Azure Blob Storage instance. To prevent conflicts and ensure proper organization of uploaded files, a well-structured file hierarchy is essential. We designed a hierarchical file storage system that organizes files based on the organization and the video session, ensuring that the data for each organization and session remains isolated and easily accessible. The structure is as follows:
\else
ในการใช้งานระบบของเรา องค์กรทั้งหมดใช้ Azure Blob Storage เดียวกัน เพื่อป้องกันความขัดแย้งและเพื่อให้การจัดระเบียบไฟล์ที่อัปโหลดเป็นไปอย่างเหมาะสม จำเป็นต้องมีโครงสร้างไฟล์ที่มีการจัดระเบียบที่ดี เราได้ออกแบบระบบการจัดเก็บไฟล์แบบลำดับชั้นที่จัดระเบียบไฟล์ตามองค์กรและเซสชันวิดีโอ เพื่อให้แน่ใจว่าข้อมูลสำหรับแต่ละองค์กรและเซสชันยังคงแยกจากกันและเข้าถึงได้ง่าย โครงสร้างเป็นดังนี้:
\fi

\begin{lstlisting}
    Azure Blob Storage
    .
    |-organization1 ($orgName_$orgId)
    | |-records
    | | |-videoSession1 (e.g., 1725683830)
    | | | |-video1.mp4 (e.g., 1725683830.mp4)
    | | | |-video2.mp4
    | | | |-video1.tloc
    | | | |-video2.tloc
    | | | |-information.json
    | | |
    | | |-videoSession2 (e.g., 1725983830)
    | | | |-video1.mp4
    | | | |-video1.tloc
    | | | |-information.json
    | |-detected_images
    |
    |-organization2
    | |-records
    | | |-videoSession1 (e.g., 1725683830)
    | | | |-video1.mp4
    | | | |-video1.tloc
    | | | |-information.json
    | |-detected_images
\end{lstlisting}

\ifenglish
The file storage structure follows these key principles:
\else
โครงสร้างการจัดเก็บไฟล์มีหลักการสำคัญดังนี้:
\fi
\ifenglish
\begin{itemize}
    \item Each organization has its own dedicated directory, named according to the organization's name and ID, separated by an underscore (e.g., \texttt{organization1\_1}).
    \item Within each organization's directory, there are two primary subdirectories: \texttt{records} and \texttt{detected\_images}. The \texttt{records} directory contains folders for each video session uploaded via the mobile application, while the \texttt{detected\_images} directory stores images generated by the object detection service, which will be further explained in the Object Detection Service section.
    \item Each video session folder within \texttt{records} includes the associated video files, timestamp location files, and a metadata file (\texttt{information.json}), as detailed in the Mobile Application section.
\end{itemize}
\else
\begin{itemize}
    \item แต่ละองค์กรมีไดเรกทอรีเฉพาะเป็นของตนเอง ซึ่งตั้งชื่อตามชื่อและรหัสขององค์กร โดยคั่นด้วยขีดล่าง (เช่น \texttt{organization1\_1})
    \item ภายในไดเรกทอรีของแต่ละองค์กร มีไดเรกทอรีย่อยหลักสองไดเรกทอรีได้แก่ไดเรกทอรี \texttt{records} กับ ไดเรกทอรี \texttt{detected\_images} โดยที่ไดเรกทอรี \texttt{records} มีโฟลเดอร์สำหรับแต่ละเซสชันวิดีโอที่อัปโหลดผ่านแอปพลิเคชันมือถือ ในขณะที่ไดเรกทอรี \texttt{detected\_images} เก็บภาพที่สร้างโดยบริการตรวจจับวัตถุ ซึ่งจะอธิบายเพิ่มเติมในส่วน Object Detection Service
    \item แต่ละโฟลเดอร์เซสชันวิดีโอภายใน \texttt{records} ประกอบด้วยไฟล์วิดีโอที่เกี่ยวข้อง ไฟล์คู่ของเวลาและตำแหน่ง และไฟล์เมตาดาต้า (\texttt{information.json}) ตามที่อธิบายไว้ในส่วนแอปพลิเคชันมือถือ
\end{itemize}
\fi
